2024-06-09 21:19:55.997 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 21:19:56.072 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 21:19:56.077 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 21:19:56.079 +03:30 [INF] Hosting environment: Development
2024-06-09 21:19:56.083 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 21:19:59.984 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 21:20:22.056 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 22079.0758ms
2024-06-09 21:20:22.130 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 21:20:22.135 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 21:20:22.147 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 16.871ms
2024-06-09 21:20:22.308 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 172.8849ms
2024-06-09 21:20:22.392 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 21:20:23.123 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 731.3498ms
2024-06-09 21:21:00.000 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 21:21:00.031 +03:30 [WRN] Failed to determine the https port for redirect.
2024-06-09 21:21:00.039 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:21:00.073 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:21:00.854 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:21:03.394 +03:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 21:21:03.997 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3131.9831ms.
2024-06-09 21:21:04.020 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 21:21:04.047 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 3957.8057ms
2024-06-09 21:21:04.055 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:21:04.062 +03:30 [INF] HTTP GET /api/Books responded 200 in 4033.9734 ms
2024-06-09 21:21:04.078 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 4078.0592ms
2024-06-09 21:21:37.013 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books/1 - null null
2024-06-09 21:21:37.030 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 21:21:37.052 +03:30 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:21:37.117 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:21:49.629 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) in 12567.3899ms
2024-06-09 21:21:50.272 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 21:21:50.766 +03:30 [ERR] HTTP GET /api/Books/1 responded 500 in 13736.8735 ms
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Initializing, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: redis://localhost:6379:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=2,Free=32765,Min=8,Max=32767), POOL: (Threads=10,QueuedItems=0,CompletedItems=1030,Timers=24), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 21:21:52.414 +03:30 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Initializing, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: redis://localhost:6379:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=2,Free=32765,Min=8,Max=32767), POOL: (Threads=10,QueuedItems=0,CompletedItems=1030,Timers=24), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 21:21:53.426 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books/1 - 500 null text/plain; charset=utf-8 16412.1404ms
2024-06-09 21:23:50.633 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books/1 - null null
2024-06-09 21:23:50.746 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 21:23:50.781 +03:30 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:23:51.143 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:24:10.756 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) in 19823.9829ms
2024-06-09 21:24:11.719 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 21:24:12.328 +03:30 [ERR] HTTP GET /api/Books/1 responded 500 in 21581.0983 ms
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Initializing, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 2, serverEndpoint: redis://localhost:6379:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=1,Free=32766,Min=8,Max=32767), POOL: (Threads=10,QueuedItems=0,CompletedItems=3085,Timers=26), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 21:24:14.380 +03:30 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Initializing, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 2, serverEndpoint: redis://localhost:6379:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=1,Free=32766,Min=8,Max=32767), POOL: (Threads=10,QueuedItems=0,CompletedItems=3085,Timers=26), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: UnableToConnect on redis://localhost:6379:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.33.41805
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 21:24:14.921 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books/1 - 500 null text/plain; charset=utf-8 24288.6656ms
2024-06-09 21:24:34.183 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books/1 - null null
2024-06-09 21:24:34.196 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 21:24:34.202 +03:30 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:24:34.273 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:24:51.721 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) in 17502.1447ms
2024-06-09 21:24:52.205 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 21:24:52.591 +03:30 [ERR] HTTP GET /api/Books/1 responded 500 in 18395.0641 ms
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 3, serverEndpoint: redis://localhost:6379:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=2,Free=32765,Min=8,Max=32767), POOL: (Threads=11,QueuedItems=0,CompletedItems=3600,Timers=19), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). ConnectTimeout
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 21:24:53.944 +03:30 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 3, serverEndpoint: redis://localhost:6379:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=2,Free=32765,Min=8,Max=32767), POOL: (Threads=11,QueuedItems=0,CompletedItems=3600,Timers=19), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). ConnectTimeout
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 21:24:54.683 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books/1 - 500 null text/plain; charset=utf-8 20499.4233ms
2024-06-09 21:43:02.923 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Books - application/json 129
2024-06-09 21:43:02.937 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API)'
2024-06-09 21:43:02.947 +03:30 [INF] Route matched with {action = "AddBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(OnlineLibrary.Application.DTOs.CreateBookDto) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:43:03.027 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:43:07.829 +03:30 [INF] Executed DbCommand (70ms) [Parameters=[@__isbn_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[ISBN] = @__isbn_0
2024-06-09 21:43:07.965 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 21:43:08.877 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [ISBN], [IsAvailable], [PublishedDate], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-09 21:43:09.727 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6692.473ms.
2024-06-09 21:43:09.738 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.BookDto'.
2024-06-09 21:43:09.749 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API) in 6789.1977ms
2024-06-09 21:43:09.755 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API)'
2024-06-09 21:43:09.758 +03:30 [INF] HTTP POST /api/Books responded 200 in 6821.3839 ms
2024-06-09 21:43:09.765 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Books - 200 null application/json; charset=utf-8 6842.0008ms
2024-06-09 21:43:22.171 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 21:43:22.544 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:43:22.698 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:43:22.734 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:43:22.823 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 21:43:22.832 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.1161ms.
2024-06-09 21:43:22.839 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 21:43:22.845 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 140.3577ms
2024-06-09 21:43:22.851 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:43:22.855 +03:30 [INF] HTTP GET /api/Books responded 200 in 311.1391 ms
2024-06-09 21:43:22.863 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 691.8023ms
2024-06-09 21:43:29.839 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 21892.8026ms
2024-06-09 21:43:29.855 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 21:43:29.857 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 21:43:29.881 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 24.276ms
2024-06-09 21:43:29.900 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.9224ms
2024-06-09 21:43:30.484 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 21:43:30.565 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.9833ms
2024-06-09 21:44:19.553 +03:30 [INF] Request starting HTTP/1.1 PUT http://localhost/api/Books/1002 - application/json 154
2024-06-09 21:44:19.690 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.UpdateBook (OnlineLibrary.API)'
2024-06-09 21:44:19.697 +03:30 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, OnlineLibrary.Application.DTOs.BookDto) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:44:19.748 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.UpdateBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:44:19.788 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Author] = @p0, [ISBN] = @p1, [IsAvailable] = @p2, [PublishedDate] = @p3, [Title] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-09 21:44:19.799 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.UpdateBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.4662ms.
2024-06-09 21:44:19.809 +03:30 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-06-09 21:44:19.815 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.UpdateBook (OnlineLibrary.API) in 107.1054ms
2024-06-09 21:44:19.819 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.UpdateBook (OnlineLibrary.API)'
2024-06-09 21:44:19.824 +03:30 [INF] HTTP PUT /api/Books/1002 responded 204 in 134.0882 ms
2024-06-09 21:44:19.830 +03:30 [INF] Request finished HTTP/1.1 PUT http://localhost/api/Books/1002 - 204 null null 305.748ms
2024-06-09 21:44:40.809 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Books - application/json 135
2024-06-09 21:44:40.820 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API)'
2024-06-09 21:44:40.840 +03:30 [INF] Route matched with {action = "AddBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(OnlineLibrary.Application.DTOs.CreateBookDto) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:44:40.880 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:44:43.723 +03:30 [INF] Executed DbCommand (35ms) [Parameters=[@__isbn_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[ISBN] = @__isbn_0
2024-06-09 21:44:44.218 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3327.0781ms.
2024-06-09 21:44:44.312 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String[]'.
2024-06-09 21:44:44.317 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API) in 3469.4557ms
2024-06-09 21:44:44.323 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.AddBook (OnlineLibrary.API)'
2024-06-09 21:44:44.327 +03:30 [INF] HTTP POST /api/Books responded 400 in 3507.0862 ms
2024-06-09 21:44:44.332 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Books - 400 null application/json; charset=utf-8 3522.8955ms
2024-06-09 21:44:51.160 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 21:44:51.354 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:44:51.398 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:44:51.435 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:44:51.447 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 21:44:51.456 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.382ms.
2024-06-09 21:44:51.463 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 21:44:51.470 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 66.1697ms
2024-06-09 21:44:51.476 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:44:51.481 +03:30 [INF] HTTP GET /api/Books responded 200 in 126.9191 ms
2024-06-09 21:44:51.488 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 328.2715ms
2024-06-09 21:45:11.522 +03:30 [INF] Request starting HTTP/1.1 DELETE http://localhost/api/Books/1002 - null null
2024-06-09 21:45:11.535 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API)'
2024-06-09 21:45:11.542 +03:30 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:45:11.586 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:45:12.255 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-09 21:45:12.270 +03:30 [INF] Book added: strwsing
2024-06-09 21:45:12.291 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-09 21:45:12.308 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 714.0408ms.
2024-06-09 21:45:12.319 +03:30 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-06-09 21:45:12.324 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API) in 771.3876ms
2024-06-09 21:45:12.333 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API)'
2024-06-09 21:45:12.338 +03:30 [INF] HTTP DELETE /api/Books/1002 responded 204 in 802.6189 ms
2024-06-09 21:45:12.342 +03:30 [INF] Request finished HTTP/1.1 DELETE http://localhost/api/Books/1002 - 204 null null 820.2255ms
2024-06-09 21:45:13.709 +03:30 [INF] Request starting HTTP/1.1 DELETE http://localhost/api/Books/1002 - null null
2024-06-09 21:45:13.908 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API)'
2024-06-09 21:45:13.988 +03:30 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:45:14.266 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:45:14.412 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-09 21:45:14.423 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 33.9124ms.
2024-06-09 21:45:14.428 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String[]'.
2024-06-09 21:45:14.431 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API) in 260.2706ms
2024-06-09 21:45:14.438 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API)'
2024-06-09 21:45:14.442 +03:30 [INF] HTTP DELETE /api/Books/1002 responded 400 in 533.8012 ms
2024-06-09 21:45:14.447 +03:30 [INF] Request finished HTTP/1.1 DELETE http://localhost/api/Books/1002 - 400 null application/json; charset=utf-8 737.7381ms
2024-06-09 21:45:29.695 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 21:45:29.929 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:45:29.989 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:45:30.241 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:45:30.329 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 21:45:30.339 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.4435ms.
2024-06-09 21:45:30.344 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 21:45:30.351 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 204.3333ms
2024-06-09 21:45:30.356 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:45:30.360 +03:30 [INF] HTTP GET /api/Books responded 200 in 431.1434 ms
2024-06-09 21:45:30.367 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 706.8683ms
2024-06-09 21:45:39.667 +03:30 [INF] Request starting HTTP/1.1 DELETE http://localhost/api/Books/2 - null null
2024-06-09 21:45:39.857 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API)'
2024-06-09 21:45:39.941 +03:30 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:45:40.285 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:45:40.340 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-09 21:45:40.350 +03:30 [INF] Book added: string
2024-06-09 21:45:40.363 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-09 21:45:40.371 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.345ms.
2024-06-09 21:45:40.378 +03:30 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-06-09 21:45:40.383 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API) in 302.9849ms
2024-06-09 21:45:40.388 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.DeleteBook (OnlineLibrary.API)'
2024-06-09 21:45:40.391 +03:30 [INF] HTTP DELETE /api/Books/2 responded 204 in 536.1984 ms
2024-06-09 21:45:40.398 +03:30 [INF] Request finished HTTP/1.1 DELETE http://localhost/api/Books/2 - 204 null null 731.1203ms
2024-06-09 21:45:53.596 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 21:45:53.608 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:45:53.613 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 21:45:53.653 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:45:53.973 +03:30 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 21:45:54.340 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 496.3653ms.
2024-06-09 21:45:54.347 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 21:45:54.351 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 730.7069ms
2024-06-09 21:45:54.362 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 21:45:54.365 +03:30 [INF] HTTP GET /api/Books responded 200 in 757.0277 ms
2024-06-09 21:45:54.370 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 774.2383ms
2024-06-09 21:46:11.573 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/gettallloans - null null
2024-06-09 21:46:11.587 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 21:46:11.594 +03:30 [INF] Route matched with {action = "GetAllLoans", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 21:46:11.983 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) in 380.0264ms
2024-06-09 21:46:12.573 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 21:46:12.745 +03:30 [ERR] HTTP GET /api/Loans/gettallloans responded 500 in 1158.9291 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method173(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 21:46:13.509 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method173(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 21:46:13.536 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/gettallloans - 500 null text/plain; charset=utf-8 1963.3326ms
2024-06-09 21:47:59.678 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Users/register - application/json 71
2024-06-09 21:48:00.445 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API)'
2024-06-09 21:48:00.613 +03:30 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(OnlineLibrary.Application.DTOs.CreateUserDto) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 21:48:01.313 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 21:48:54.773 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 21:48:54.854 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 21:48:54.858 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 21:48:54.860 +03:30 [INF] Hosting environment: Development
2024-06-09 21:48:54.863 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 21:48:57.750 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 22:08:25.675 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 22:08:25.749 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 22:08:25.753 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 22:08:25.756 +03:30 [INF] Hosting environment: Development
2024-06-09 22:08:25.760 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 22:08:27.573 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 22:08:49.139 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 21572.0911ms
2024-06-09 22:08:49.208 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 22:08:49.210 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 22:08:49.225 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 16.8173ms
2024-06-09 22:08:49.273 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.9546ms
2024-06-09 22:08:49.379 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 22:08:49.529 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.3469ms
2024-06-09 22:09:02.515 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/loan/1 - null null
2024-06-09 22:09:02.544 +03:30 [WRN] Failed to determine the https port for redirect.
2024-06-09 22:09:02.551 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API)'
2024-06-09 22:09:02.574 +03:30 [INF] Route matched with {action = "GetLoanById", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoanById(Int32) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:09:03.077 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API) in 486.7281ms
2024-06-09 22:09:03.195 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API)'
2024-06-09 22:09:03.278 +03:30 [ERR] HTTP GET /api/Loans/loan/1 responded 500 in 734.7965 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method11(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:09:03.519 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method11(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:09:03.556 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/loan/1 - 500 null text/plain; charset=utf-8 1040.7507ms
2024-06-09 22:09:19.973 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 22:09:19.988 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 22:09:19.997 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 22:09:20.116 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:09:21.547 +03:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 22:09:21.700 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1573.1549ms.
2024-06-09 22:09:21.717 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 22:09:21.741 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 1735.6584ms
2024-06-09 22:09:21.751 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 22:09:21.755 +03:30 [INF] HTTP GET /api/Books responded 200 in 1767.2938 ms
2024-06-09 22:09:21.765 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 1792.731ms
2024-06-09 22:09:29.205 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books/1 - null null
2024-06-09 22:09:29.218 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 22:09:29.226 +03:30 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 22:09:29.278 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:09:57.133 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) in 27898.8367ms
2024-06-09 22:09:57.335 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 22:09:57.689 +03:30 [ERR] HTTP GET /api/Books/1 responded 500 in 28471.5721 ms
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Idle, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=0,Free=32767,Min=8,Max=32767), POOL: (Threads=7,QueuedItems=0,CompletedItems=678,Timers=12), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). ConnectTimeout
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:09:58.420 +03:30 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Idle, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=0,Free=32767,Min=8,Max=32767), POOL: (Threads=7,QueuedItems=0,CompletedItems=678,Timers=12), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). ConnectTimeout
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:09:58.470 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books/1 - 500 null text/plain; charset=utf-8 29264.8457ms
2024-06-09 22:10:04.097 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books/1 - null null
2024-06-09 22:10:04.113 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 22:10:04.117 +03:30 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 22:10:04.164 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:10:17.602 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API) in 13475.9455ms
2024-06-09 22:10:17.784 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetBookById (OnlineLibrary.API)'
2024-06-09 22:10:17.956 +03:30 [ERR] HTTP GET /api/Books/1 responded 500 in 13842.8288 ms
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Initializing, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 2, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=0,Free=32767,Min=8,Max=32767), POOL: (Threads=8,QueuedItems=0,CompletedItems=886,Timers=11), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). ConnectTimeout
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:10:18.634 +03:30 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Initializing, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 2, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: DESKTOP-GEPO9LI(SE.Redis-v2.7.33.41805), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=0,Free=32767,Min=8,Max=32767), POOL: (Threads=8,QueuedItems=0,CompletedItems=886,Timers=11), v: 2.7.33.41805 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). ConnectTimeout
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAndRefreshAsync(String key, Boolean getData, CancellationToken token)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.GetAsync(String key, CancellationToken token)
   at Microsoft.Extensions.Caching.Distributed.DistributedCacheExtensions.GetStringAsync(IDistributedCache cache, String key, CancellationToken token)
   at OnlineLibrary.Application.Services.BookService.GetBookByIdAsync(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\BookService.cs:line 67
   at OnlineLibrary.API.Controllers.BooksController.GetBookById(Int32 id) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\BooksController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:10:18.683 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books/1 - 500 null text/plain; charset=utf-8 14585.8579ms
2024-06-09 22:11:44.975 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Users/register - application/json 71
2024-06-09 22:11:44.995 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API)'
2024-06-09 22:11:45.003 +03:30 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(OnlineLibrary.Application.DTOs.CreateUserDto) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:11:45.067 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:11:45.324 +03:30 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-09 22:11:45.366 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 293.649ms.
2024-06-09 22:11:45.373 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.UserDto'.
2024-06-09 22:11:45.380 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API) in 365.9673ms
2024-06-09 22:11:45.384 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API)'
2024-06-09 22:11:45.387 +03:30 [INF] HTTP POST /api/Users/register responded 200 in 391.7910 ms
2024-06-09 22:11:45.395 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Users/register - 200 null application/json; charset=utf-8 419.9408ms
2024-06-09 22:12:08.705 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Users/login?username=string&password=string - null 0
2024-06-09 22:12:08.731 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API)'
2024-06-09 22:12:08.743 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:12:08.790 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:12:08.862 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2024-06-09 22:12:08.872 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.1411ms.
2024-06-09 22:12:08.878 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.UserDto'.
2024-06-09 22:12:08.882 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API) in 129.0835ms
2024-06-09 22:12:08.886 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API)'
2024-06-09 22:12:08.889 +03:30 [INF] HTTP POST /api/Users/login responded 200 in 157.5840 ms
2024-06-09 22:12:08.896 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Users/login?username=string&password=string - 200 null application/json; charset=utf-8 191.0639ms
2024-06-09 22:12:27.656 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Users/2 - null null
2024-06-09 22:12:27.678 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API)'
2024-06-09 22:12:27.685 +03:30 [INF] Route matched with {action = "GetUserById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(Int32) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:12:27.724 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:12:27.844 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-09 22:12:27.858 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 125.2842ms.
2024-06-09 22:12:27.865 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.UserDto'.
2024-06-09 22:12:27.869 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API) in 173.869ms
2024-06-09 22:12:27.874 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API)'
2024-06-09 22:12:27.879 +03:30 [INF] HTTP GET /api/Users/2 responded 200 in 201.2890 ms
2024-06-09 22:12:27.887 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Users/2 - 200 null application/json; charset=utf-8 231.4876ms
2024-06-09 22:13:04.792 +03:30 [INF] Request starting HTTP/1.1 PUT http://localhost/api/Users/2 - application/json 45
2024-06-09 22:13:04.805 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API)'
2024-06-09 22:13:04.813 +03:30 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(OnlineLibrary.Application.DTOs.UserDto) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:13:04.853 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:13:04.887 +03:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-09 22:13:05.851 +03:30 [ERR] An exception occurred in the database while saving changes for context type 'OnlineLibrary.Infrastructure.Data.LibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c3817ef9-166c-45bb-a785-ebd67a6b3a91
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c3817ef9-166c-45bb-a785-ebd67a6b3a91
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-09 22:13:07.002 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API) in 2180.7842ms
2024-06-09 22:13:07.235 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API)'
2024-06-09 22:13:07.417 +03:30 [ERR] HTTP PUT /api/Users/2 responded 500 in 2612.0173 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c3817ef9-166c-45bb-a785-ebd67a6b3a91
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OnlineLibrary.Infrastructure.Repositories.UnitOfWork.CompleteAsync() in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Infrastructure\Repositories\UnitOfWork.cs:line 33
   at OnlineLibrary.Application.Services.UserService.UpdateUserAsync(UserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\UserService.cs:line 89
   at OnlineLibrary.API.Controllers.UsersController.Update(UserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\UsersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:13:08.197 +03:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c3817ef9-166c-45bb-a785-ebd67a6b3a91
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OnlineLibrary.Infrastructure.Repositories.UnitOfWork.CompleteAsync() in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Infrastructure\Repositories\UnitOfWork.cs:line 33
   at OnlineLibrary.Application.Services.UserService.UpdateUserAsync(UserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\UserService.cs:line 89
   at OnlineLibrary.API.Controllers.UsersController.Update(UserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\UsersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:13:08.268 +03:30 [INF] Request finished HTTP/1.1 PUT http://localhost/api/Users/2 - 500 null text/plain; charset=utf-8 3475.538ms
2024-06-09 22:13:29.337 +03:30 [INF] Request starting HTTP/1.1 DELETE http://localhost/api/Users/2 - null null
2024-06-09 22:13:29.350 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.DeleteUser (OnlineLibrary.API)'
2024-06-09 22:13:29.358 +03:30 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:13:29.393 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.DeleteUser (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:13:29.411 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-09 22:13:29.434 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-09 22:13:29.448 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.DeleteUser (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.2025ms.
2024-06-09 22:13:29.454 +03:30 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-06-09 22:13:29.459 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.DeleteUser (OnlineLibrary.API) in 90.6919ms
2024-06-09 22:13:29.464 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.DeleteUser (OnlineLibrary.API)'
2024-06-09 22:13:29.468 +03:30 [INF] HTTP DELETE /api/Users/2 responded 204 in 118.4530 ms
2024-06-09 22:13:29.560 +03:30 [INF] Request finished HTTP/1.1 DELETE http://localhost/api/Users/2 - 204 null null 223.0708ms
2024-06-09 22:16:10.854 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 22:16:10.923 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 22:16:10.927 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 22:16:10.930 +03:30 [INF] Hosting environment: Development
2024-06-09 22:16:10.933 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 22:16:12.962 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 22:16:34.366 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 21410.7819ms
2024-06-09 22:16:34.780 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 22:16:34.796 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 22:16:34.796 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 16.0185ms
2024-06-09 22:16:34.890 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.5621ms
2024-06-09 22:16:34.976 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 22:16:35.264 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 288.0647ms
2024-06-09 22:21:54.999 +03:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-09 22:21:55.064 +03:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-09 22:21:55.066 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-09 22:21:55.070 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-09 22:21:55.086 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-09 22:21:55.099 +03:30 [INF] Applying migration '20240609185130_APITESTuSER'.
2024-06-09 22:21:55.136 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240609185130_APITESTuSER', N'8.0.6');
2024-06-09 22:22:52.975 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 22:22:53.042 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 22:22:53.049 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 22:22:53.052 +03:30 [INF] Hosting environment: Development
2024-06-09 22:22:53.054 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 22:22:55.479 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 22:23:16.830 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 21355.1613ms
2024-06-09 22:23:16.906 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 22:23:16.907 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 22:23:16.928 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 22.4239ms
2024-06-09 22:23:16.979 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.7087ms
2024-06-09 22:23:17.081 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 22:23:17.243 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.85ms
2024-06-09 22:23:35.275 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Users/register - application/json 71
2024-06-09 22:23:35.307 +03:30 [WRN] Failed to determine the https port for redirect.
2024-06-09 22:23:35.318 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API)'
2024-06-09 22:23:35.344 +03:30 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(OnlineLibrary.Application.DTOs.CreateUserDto) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:23:35.729 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:23:37.282 +03:30 [INF] Executed DbCommand (73ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-09 22:23:37.349 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1607.6811ms.
2024-06-09 22:23:37.364 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.UserDto'.
2024-06-09 22:23:37.380 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API) in 2022.6296ms
2024-06-09 22:23:37.390 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.Register (OnlineLibrary.API)'
2024-06-09 22:23:37.396 +03:30 [INF] HTTP POST /api/Users/register responded 200 in 2091.0909 ms
2024-06-09 22:23:37.410 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Users/register - 200 null application/json; charset=utf-8 2135.1107ms
2024-06-09 22:23:50.424 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Users/login?username=string&password=string - null 0
2024-06-09 22:23:50.440 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API)'
2024-06-09 22:23:50.450 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:23:50.509 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:23:50.805 +03:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2024-06-09 22:23:50.828 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 309.5233ms.
2024-06-09 22:23:50.837 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.UserDto'.
2024-06-09 22:23:50.841 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API) in 376.135ms
2024-06-09 22:23:50.846 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.Login (OnlineLibrary.API)'
2024-06-09 22:23:50.850 +03:30 [INF] HTTP POST /api/Users/login responded 200 in 410.4928 ms
2024-06-09 22:23:50.855 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Users/login?username=string&password=string - 200 null application/json; charset=utf-8 432.1044ms
2024-06-09 22:24:03.551 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Users/0 - null null
2024-06-09 22:24:03.566 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API)'
2024-06-09 22:24:03.572 +03:30 [INF] Route matched with {action = "GetUserById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(Int32) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:24:03.617 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:24:03.760 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-09 22:24:03.779 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 154.7761ms.
2024-06-09 22:24:03.789 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String[]'.
2024-06-09 22:24:03.795 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API) in 212.1957ms
2024-06-09 22:24:03.802 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API)'
2024-06-09 22:24:03.805 +03:30 [INF] HTTP GET /api/Users/0 responded 400 in 238.6680 ms
2024-06-09 22:24:03.812 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Users/0 - 400 null application/json; charset=utf-8 261.0193ms
2024-06-09 22:24:30.896 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Users/4 - null null
2024-06-09 22:24:30.910 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API)'
2024-06-09 22:24:30.912 +03:30 [INF] Route matched with {action = "GetUserById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(Int32) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:24:30.943 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:24:30.959 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-09 22:24:30.971 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.4139ms.
2024-06-09 22:24:30.978 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.UserDto'.
2024-06-09 22:24:30.982 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API) in 64.7549ms
2024-06-09 22:24:30.993 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.GetUserById (OnlineLibrary.API)'
2024-06-09 22:24:30.996 +03:30 [INF] HTTP GET /api/Users/4 responded 200 in 86.1152 ms
2024-06-09 22:24:31.004 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Users/4 - 200 null application/json; charset=utf-8 108.0057ms
2024-06-09 22:24:46.251 +03:30 [INF] Request starting HTTP/1.1 PUT http://localhost/api/Users/4 - application/json 46
2024-06-09 22:24:46.265 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API)'
2024-06-09 22:24:46.274 +03:30 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(OnlineLibrary.Application.DTOs.UpdateUserDto) on controller OnlineLibrary.API.Controllers.UsersController (OnlineLibrary.API).
2024-06-09 22:24:46.315 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:24:46.334 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-09 22:24:47.378 +03:30 [ERR] An exception occurred in the database while saving changes for context type 'OnlineLibrary.Infrastructure.Data.LibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10c7ca8b-6ed3-40f5-b35d-adcf076b2e6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10c7ca8b-6ed3-40f5-b35d-adcf076b2e6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-09 22:24:48.588 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API) in 2305.4703ms
2024-06-09 22:24:48.849 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.UsersController.Update (OnlineLibrary.API)'
2024-06-09 22:24:49.057 +03:30 [ERR] HTTP PUT /api/Users/4 responded 500 in 2792.6122 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10c7ca8b-6ed3-40f5-b35d-adcf076b2e6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OnlineLibrary.Infrastructure.Repositories.UnitOfWork.CompleteAsync() in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Infrastructure\Repositories\UnitOfWork.cs:line 33
   at OnlineLibrary.Application.Services.UserService.UpdateUserAsync(UpdateUserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\UserService.cs:line 89
   at OnlineLibrary.API.Controllers.UsersController.Update(UpdateUserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\UsersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:24:49.835 +03:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Password', table 'OnlineLibrary.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10c7ca8b-6ed3-40f5-b35d-adcf076b2e6c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OnlineLibrary.Infrastructure.Repositories.UnitOfWork.CompleteAsync() in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Infrastructure\Repositories\UnitOfWork.cs:line 33
   at OnlineLibrary.Application.Services.UserService.UpdateUserAsync(UpdateUserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.Application\Services\UserService.cs:line 89
   at OnlineLibrary.API.Controllers.UsersController.Update(UpdateUserDto userDto) in C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API\Controllers\UsersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:24:49.923 +03:30 [INF] Request finished HTTP/1.1 PUT http://localhost/api/Users/4 - 500 null text/plain; charset=utf-8 3672.366ms
2024-06-09 22:29:53.715 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/gettallloans - null null
2024-06-09 22:29:53.726 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:29:53.739 +03:30 [INF] Route matched with {action = "GetAllLoans", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:29:53.948 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) in 194.6775ms
2024-06-09 22:29:54.076 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:29:54.157 +03:30 [ERR] HTTP GET /api/Loans/gettallloans responded 500 in 431.7821 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:29:54.401 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:29:54.441 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/gettallloans - 500 null text/plain; charset=utf-8 725.7963ms
2024-06-09 22:30:26.157 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 22:30:26.169 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 22:30:26.177 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 22:30:26.228 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:30:26.271 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 22:30:26.308 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.7615ms.
2024-06-09 22:30:26.320 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 22:30:26.348 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 164.7687ms
2024-06-09 22:30:26.356 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 22:30:26.363 +03:30 [INF] HTTP GET /api/Books responded 200 in 194.1140 ms
2024-06-09 22:30:26.369 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 212.0783ms
2024-06-09 22:30:51.043 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:30:51.058 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:30:51.066 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:30:51.249 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 172.4599ms
2024-06-09 22:30:51.362 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:30:51.440 +03:30 [ERR] HTTP POST /api/Loans/CreateLoan responded 500 in 382.4536 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:30:51.640 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:30:51.681 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 500 null text/plain; charset=utf-8 637.5995ms
2024-06-09 22:31:39.769 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:31:39.781 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:31:39.786 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:31:39.956 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 161.2056ms
2024-06-09 22:31:40.066 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:31:40.147 +03:30 [ERR] HTTP POST /api/Loans/CreateLoan responded 500 in 365.3830 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:31:40.367 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:31:40.399 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 500 null text/plain; charset=utf-8 629.6516ms
2024-06-09 22:31:59.138 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:31:59.149 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:31:59.155 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:31:59.333 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 168.2392ms
2024-06-09 22:31:59.433 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:31:59.512 +03:30 [ERR] HTTP POST /api/Loans/CreateLoan responded 500 in 363.0054 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:31:59.715 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:31:59.759 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 500 null text/plain; charset=utf-8 622.0851ms
2024-06-09 22:32:03.982 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:32:03.995 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:32:04.002 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:32:04.224 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 211.4872ms
2024-06-09 22:32:04.348 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:32:04.424 +03:30 [ERR] HTTP POST /api/Loans/CreateLoan responded 500 in 429.1220 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:32:04.636 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method188(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:32:04.659 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 500 null text/plain; charset=utf-8 677.0935ms
2024-06-09 22:32:23.849 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/gettallloans - null null
2024-06-09 22:32:23.861 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:32:23.881 +03:30 [INF] Route matched with {action = "GetAllLoans", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:32:24.048 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) in 160.7479ms
2024-06-09 22:32:24.149 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:32:24.222 +03:30 [ERR] HTTP GET /api/Loans/gettallloans responded 500 in 360.5986 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:32:24.422 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:32:24.476 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/gettallloans - 500 null text/plain; charset=utf-8 626.8809ms
2024-06-09 22:32:26.850 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/gettallloans - null null
2024-06-09 22:32:26.869 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:32:26.872 +03:30 [INF] Route matched with {action = "GetAllLoans", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:32:27.032 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) in 153.8536ms
2024-06-09 22:32:27.139 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:32:27.206 +03:30 [ERR] HTTP GET /api/Loans/gettallloans responded 500 in 336.8091 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:32:27.409 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method117(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:32:27.436 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/gettallloans - 500 null text/plain; charset=utf-8 585.7587ms
2024-06-09 22:33:03.644 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 22:33:03.733 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 22:33:03.737 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 22:33:03.739 +03:30 [INF] Hosting environment: Development
2024-06-09 22:33:03.741 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 22:33:05.414 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 22:33:26.903 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 21494.7624ms
2024-06-09 22:33:26.979 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 22:33:26.983 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 22:33:26.997 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 18.143ms
2024-06-09 22:33:27.067 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.7714ms
2024-06-09 22:33:27.180 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 22:33:27.345 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.5583ms
2024-06-09 22:33:34.999 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:33:35.018 +03:30 [WRN] Failed to determine the https port for redirect.
2024-06-09 22:33:35.027 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:33:35.059 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:33:35.509 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 432.8365ms
2024-06-09 22:33:35.621 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:33:35.713 +03:30 [ERR] HTTP POST /api/Loans/CreateLoan responded 500 in 697.2095 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method11(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:33:35.972 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method11(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:33:36.016 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 500 null text/plain; charset=utf-8 1016.258ms
2024-06-09 22:33:47.786 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/gettallloans - null null
2024-06-09 22:33:47.799 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:33:47.805 +03:30 [INF] Route matched with {action = "GetAllLoans", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:33:47.982 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) in 166.7585ms
2024-06-09 22:33:48.091 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:33:48.178 +03:30 [ERR] HTTP GET /api/Loans/gettallloans responded 500 in 379.1647 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-06-09 22:33:48.374 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'OnlineLibrary.API.Controllers.LoansController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 22:33:48.407 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/gettallloans - 500 null text/plain; charset=utf-8 635.5085ms
2024-06-09 22:35:03.222 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 22:35:03.324 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 22:35:03.327 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 22:35:03.330 +03:30 [INF] Hosting environment: Development
2024-06-09 22:35:03.333 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 22:35:05.548 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 22:35:26.894 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 21354.8166ms
2024-06-09 22:35:26.965 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 22:35:26.967 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 22:35:26.986 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 21.131ms
2024-06-09 22:35:27.042 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.1595ms
2024-06-09 22:35:27.130 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 22:35:27.281 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 151.1397ms
2024-06-09 22:35:33.450 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:35:33.467 +03:30 [WRN] Failed to determine the https port for redirect.
2024-06-09 22:35:33.476 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:35:33.502 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:35:33.835 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:35:46.907 +03:30 [INF] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-09 22:35:55.799 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 21951.6162ms.
2024-06-09 22:35:55.815 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String[]'.
2024-06-09 22:35:55.831 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 22315.4352ms
2024-06-09 22:35:55.839 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:35:55.846 +03:30 [INF] HTTP POST /api/Loans/CreateLoan responded 400 in 22379.4922 ms
2024-06-09 22:35:55.861 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 400 null application/json; charset=utf-8 22411.4007ms
2024-06-09 22:36:12.450 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:36:12.472 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:36:12.478 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:36:12.523 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:36:16.304 +03:30 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-09 22:37:23.854 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [Author] = @p0, [ISBN] = @p1, [IsAvailable] = @p2, [PublishedDate] = @p3, [Title] = @p4
OUTPUT 1
WHERE [Id] = @p5;
INSERT INTO [Loans] ([BookId], [BorrowedDate], [ReturnedDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
2024-06-09 22:37:31.750 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79220.2492ms.
2024-06-09 22:37:31.848 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.LoanDto'.
2024-06-09 22:37:31.917 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 79433.7511ms
2024-06-09 22:37:31.923 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:37:31.927 +03:30 [INF] HTTP POST /api/Loans/CreateLoan responded 200 in 79454.9895 ms
2024-06-09 22:37:31.933 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 200 null application/json; charset=utf-8 79483.4747ms
2024-06-09 22:39:24.942 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/loan/1 - null null
2024-06-09 22:39:24.955 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API)'
2024-06-09 22:39:24.964 +03:30 [INF] Route matched with {action = "GetLoanById", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoanById(Int32) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:39:25.009 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:39:25.090 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[BookId], [l].[BorrowedDate], [l].[ReturnedDate], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[Id] = @__p_0
2024-06-09 22:39:25.104 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 89.175ms.
2024-06-09 22:39:25.110 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.LoanDto'.
2024-06-09 22:39:25.116 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API) in 143.6602ms
2024-06-09 22:39:25.121 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetLoanById (OnlineLibrary.API)'
2024-06-09 22:39:25.126 +03:30 [INF] HTTP GET /api/Loans/loan/1 responded 200 in 170.3622 ms
2024-06-09 22:39:25.133 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/loan/1 - 200 null application/json; charset=utf-8 190.7362ms
2024-06-09 22:41:42.609 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/gettallloans - null null
2024-06-09 22:41:42.625 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:41:42.631 +03:30 [INF] Route matched with {action = "GetAllLoans", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:41:42.665 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 22:41:49.309 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[BookId], [l].[BorrowedDate], [l].[ReturnedDate], [l].[UserId]
FROM [Loans] AS [l]
2024-06-09 22:41:49.339 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6666.6462ms.
2024-06-09 22:41:49.346 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Loan, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.LoanDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 22:41:49.352 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) in 6709.4019ms
2024-06-09 22:41:49.360 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 22:41:49.364 +03:30 [INF] HTTP GET /api/Loans/gettallloans responded 200 in 6738.7040 ms
2024-06-09 22:41:49.371 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/gettallloans - 200 null application/json; charset=utf-8 6761.8069ms
2024-06-09 22:57:44.174 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 22:57:44.189 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 22:57:44.195 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.BorrowBookDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 22:57:44.242 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 23:02:50.010 +03:30 [WRN] Overriding address(es) 'http://*:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-09 23:02:50.076 +03:30 [INF] Now listening on: http://[::]:80
2024-06-09 23:02:50.082 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 23:02:50.085 +03:30 [INF] Hosting environment: Development
2024-06-09 23:02:50.101 +03:30 [INF] Content root path: C:\Users\a_shi\source\repos\OnlineLibrary\src\OnlineLibrary.API
2024-06-09 23:02:51.876 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/index.html - null null
2024-06-09 23:03:13.235 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/index.html - 200 null text/html;charset=utf-8 21362.7864ms
2024-06-09 23:03:13.319 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 23:03:13.322 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/_vs/browserLink - null null
2024-06-09 23:03:13.340 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_framework/aspnetcore-browser-refresh.js - 200 13769 application/javascript; charset=utf-8 20.5985ms
2024-06-09 23:03:13.392 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.7656ms
2024-06-09 23:03:13.474 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - null null
2024-06-09 23:03:13.611 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.0426ms
2024-06-09 23:04:06.812 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 23:04:06.828 +03:30 [WRN] Failed to determine the https port for redirect.
2024-06-09 23:04:06.836 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 23:04:06.868 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.CreateLoanDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 23:04:07.221 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 23:04:19.195 +03:30 [INF] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-09 23:04:37.236 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 29918.2412ms.
2024-06-09 23:04:37.295 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String[]'.
2024-06-09 23:04:37.309 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 30428.446ms
2024-06-09 23:04:37.317 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 23:04:37.326 +03:30 [INF] HTTP POST /api/Loans/CreateLoan responded 400 in 30498.6489 ms
2024-06-09 23:04:37.345 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 400 null application/json; charset=utf-8 30532.6652ms
2024-06-09 23:04:46.838 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Books - null null
2024-06-09 23:04:46.852 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 23:04:46.861 +03:30 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller OnlineLibrary.API.Controllers.BooksController (OnlineLibrary.API).
2024-06-09 23:04:46.926 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 23:04:46.983 +03:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
2024-06-09 23:04:47.079 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 143.596ms.
2024-06-09 23:04:47.090 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Book, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.BookDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 23:04:47.110 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API) in 238.3362ms
2024-06-09 23:04:47.117 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.BooksController.GetAllBooks (OnlineLibrary.API)'
2024-06-09 23:04:47.123 +03:30 [INF] HTTP GET /api/Books responded 200 in 270.6618 ms
2024-06-09 23:04:47.130 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Books - 200 null application/json; charset=utf-8 291.2548ms
2024-06-09 23:04:56.966 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - application/json 32
2024-06-09 23:04:56.980 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 23:04:56.984 +03:30 [INF] Route matched with {action = "BorrowBook", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BorrowBook(OnlineLibrary.Application.DTOs.CreateLoanDto) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 23:04:57.022 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 23:05:04.131 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[ISBN], [b].[IsAvailable], [b].[PublishedDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-09 23:05:10.753 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-09 23:05:40.302 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p13='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [Author] = @p0, [ISBN] = @p1, [IsAvailable] = @p2, [PublishedDate] = @p3, [Title] = @p4
OUTPUT 1
WHERE [Id] = @p5;
INSERT INTO [Loans] ([BookId], [BorrowedDate], [ReturnedDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8, @p9);
UPDATE [Users] SET [Email] = @p10, [Password] = @p11, [Username] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-06-09 23:05:43.927 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46895.4473ms.
2024-06-09 23:05:44.017 +03:30 [INF] Executing OkObjectResult, writing value of type 'OnlineLibrary.Application.DTOs.LoanDto'.
2024-06-09 23:05:44.042 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API) in 47050.4674ms
2024-06-09 23:05:44.048 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.BorrowBook (OnlineLibrary.API)'
2024-06-09 23:05:44.053 +03:30 [INF] HTTP POST /api/Loans/CreateLoan responded 200 in 47073.5619 ms
2024-06-09 23:05:44.059 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost/api/Loans/CreateLoan - 200 null application/json; charset=utf-8 47092.9834ms
2024-06-09 23:06:57.144 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/alluserloans/4 - null null
2024-06-09 23:06:57.157 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetLoansByUserId (OnlineLibrary.API)'
2024-06-09 23:06:57.166 +03:30 [INF] Route matched with {action = "GetLoansByUserId", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoansByUserId(Int32) on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 23:06:57.211 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.GetLoansByUserId (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 23:07:06.893 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[BookId], [l].[BorrowedDate], [l].[ReturnedDate], [l].[UserId]
FROM [Loans] AS [l]
WHERE [l].[UserId] = @__userId_0
2024-06-09 23:07:23.010 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.GetLoansByUserId (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25790.3108ms.
2024-06-09 23:07:23.084 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Loan, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.LoanDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 23:07:23.134 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetLoansByUserId (OnlineLibrary.API) in 25961.0505ms
2024-06-09 23:07:23.140 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetLoansByUserId (OnlineLibrary.API)'
2024-06-09 23:07:23.145 +03:30 [INF] HTTP GET /api/Loans/alluserloans/4 responded 200 in 25988.2322 ms
2024-06-09 23:07:23.152 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/alluserloans/4 - 200 null application/json; charset=utf-8 26008.695ms
2024-06-09 23:08:31.882 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost/api/Loans/gettallloans - null null
2024-06-09 23:08:31.894 +03:30 [INF] Executing endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 23:08:31.902 +03:30 [INF] Route matched with {action = "GetAllLoans", controller = "Loans"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLoans() on controller OnlineLibrary.API.Controllers.LoansController (OnlineLibrary.API).
2024-06-09 23:08:31.935 +03:30 [INF] Executing action method OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) - Validation state: "Valid"
2024-06-09 23:08:34.632 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[BookId], [l].[BorrowedDate], [l].[ReturnedDate], [l].[UserId]
FROM [Loans] AS [l]
2024-06-09 23:08:34.642 +03:30 [INF] Executed action method OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2698.6193ms.
2024-06-09 23:08:34.649 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[OnlineLibrary.Domain.Entities.Loan, OnlineLibrary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[OnlineLibrary.Application.DTOs.LoanDto, OnlineLibrary.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 23:08:34.655 +03:30 [INF] Executed action OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API) in 2742.6104ms
2024-06-09 23:08:34.665 +03:30 [INF] Executed endpoint 'OnlineLibrary.API.Controllers.LoansController.GetAllLoans (OnlineLibrary.API)'
2024-06-09 23:08:34.671 +03:30 [INF] HTTP GET /api/Loans/gettallloans responded 200 in 2777.6599 ms
2024-06-09 23:08:34.678 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost/api/Loans/gettallloans - 200 null application/json; charset=utf-8 2796.0512ms
